<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Harvard Art Museums</title>
<style>
body, html {
	cursor: none;
	background-color: #000000;
	width: 100%;
	height: 100%;
	margin: 0px;
	padding: 0px;
	overflow: hidden;
}
</style>

<script src="/socket.io/socket.io.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>
"use strict";

var socket = io('/projectors-namespace');

$(document).on("unload", function() {
	socket.emit("close");
});

$(document).on("touchmove", function(e) {
	e.preventDefault();

	var x = e.changedTouches[e.changedTouches.length].pageX/$(window).width()*100;
	var y = e.changedTouches[e.changedTouches.length].pageY/$(window).height()*100;

	socket.emit("cursor", x, y);

	return false;
});

socket.on('reject', function () {
	alert("Another controller is already in use.");
	$(document).off("unload");
	$(document).off("touchmove");
});


</script>
</body>
</html>