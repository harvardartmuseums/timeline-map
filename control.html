<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Harvard Art Museums</title>
<style>
body, html {
	position: fixed;
	cursor: none;
	background-color: #000000;
	width: 100%;
	height: 100%;
	margin: 0px;
	padding: 0px;
	overflow: hidden;
}
</style>

<meta name="apple-mobile-web-app-capable" content="yes" /> 
<meta name="apple-touch-fullscreen" content="yes" />

<script src="/socket.io/socket.io.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>
"use strict";

var socket = io('/control-namespace');

$(document).on("unload", function() {
	socket.emit("close");
});

document.addEventListener("touchmove", function(e) {
	e.preventDefault();

	var x = e.touches[0].pageX/$(window).width()*110 - 5;
	var y = e.touches[0].pageY/$(window).height()*110 - 5;

	socket.emit("cursor", x, y);
}, false);
/*
socket.on('reject', function () {
	alert("Another controller is already in use.");
	$(document).off("unload");
	$(document).off("touchmove");
});

socket.on('timeout', function () {
	alert("This controller has taken too long in responding. Please reload the page to reconnect.");
	$(document).off("unload");
	$(document).off("touchmove");
});

socket.on('ping', function() {
	socket.emit("confirm");
});
*/

</script>
</body>
</html>